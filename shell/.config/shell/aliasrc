#!/bin/sh

# --- Modern Tools Wrappers ---

# ls -> eza
if command -v eza >/dev/null 2>&1; then
    alias ls='eza --icons --group-directories-first'
    alias ll='eza -al --icons --group-directories-first'
    alias lt='eza -aT --icons --group-directories-first' # Tree view
else
    alias ls='ls --color=auto'
    alias ll='ls -lah'
fi

# cat -> bat
if command -v bat >/dev/null 2>&1; then
    alias cat='bat --style=plain' # Xem nhanh
    alias catt='bat'              # Xem có line number/header
fi

# grep -> ripgrep
if command -v rg >/dev/null 2>&1; then
    alias grep='rg'
else
    alias grep='grep --color=auto'
fi

# cd -> zoxide (z)
if command -v zoxide >/dev/null 2>&1; then
    # eval "$(zoxide init --cmd cd zsh)" # Hook thẳng vào lệnh cd
fi

# --- Common Shortcuts ---
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'

alias cp='cp -iv'
alias mv='mv -iv'
alias rm='rm -iv'
alias mkdir='mkdir -pv'

# --- Dotfiles Management ---
alias dots='cd $HOME/.dotfiles && nvim'
alias nrebuild='sudo nixos-rebuild switch --flake $HOME/.dotfiles/nixos#thinkbox'
alias nclean='nix-collect-garbage -d'

# --- Git ---
alias g='git'
alias ga='git add'
alias gc='git commit -m'
alias gp='git push'
alias gs='git status'
alias gl='git log --oneline --graph --decorate'
alias gd='git diff'

# --- Networking ---
alias myip='curl ifconfig.me'
